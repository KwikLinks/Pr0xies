<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Student Access Gradebook</title>
    <link rel="icon" href="https://sis.cgresd.net/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap">
    <link rel="stylesheet" href="styles.css">

</head>
<body>
    <div class="kwiklinks-title">KwikLinks</div>
     <div class="search-container">
       <div style="text-align: center;">
        <input type="text" id="searchInput" placeholder="Search For A Proxy üîé" oninput="search()">
        <p class="no-result-message" id="noResultMessage">That proxy isn't here quite yet, but you can <a href="https://forms.gle/6aCmZrDfrvrvxJcZ7">make a suggestion!</a></p>
    </div>
    <div class="button-container" id="buttonContainer">
        <!-- Create a grid of buttons -->
        <div class="button-row">
            <button class="button" onclick="openLink('https://beta.sodium-5h8.pages.dev/welcome')">Sodium</button>
            <button class="button" onclick="openLink('https://sodium.onrender.com/welcome.html')">Sodium 2</button>
            <button class="button" onclick="openLink('https://sodium-5h8.pages.dev/')">Sodium 3</button>
            <button class="button" onclick="openLink('https://ultramaroon.me/')">Ultramaroon</button>
            <button class="button" onclick="openLink('https://astroid.ga.scay.net/')">Astroid</button>
            <button class="button" onclick="openLink('https://astroid.wtf/')">Astroid 2</button>
        </div>
    </div>
    <footer>
        Made with ‚ù§Ô∏è by the unblockmania team. <a href="https://kwiklinks.github.io/Issue-Report/">Report an Issue</a>
    </footer>
    
    <script> 
            function openLink(url) {
            var win = window.open();
            var iframe = win.document.createElement('iframe');
            iframe.style.width = "100%";
            iframe.style.height = "100%";
            iframe.style.border = "none";
            iframe.src = url;
            win.document.body.appendChild(iframe);
        }

        function sortButtonsAlphabetically() {
            var buttonContainer = document.getElementById("buttonContainer");
            var buttons = Array.from(buttonContainer.getElementsByClassName("button"));

            buttons.sort(function(a, b) {
                var textA = a.textContent.toLowerCase();
                var textB = b.textContent.toLowerCase();
                return textA.localeCompare(textB);
            });

            buttonContainer.innerHTML = "";

            var currentSection = "";
            buttons.forEach(function(button) {
                var buttonText = button.textContent.toLowerCase();
                var firstChar = buttonText.charAt(0).toUpperCase();
            
                if (currentSection !== firstChar && (firstChar >= 'A' && firstChar <= 'Z')) {
                    currentSection = firstChar;
                    var sectionHeader = document.createElement("div");
                    sectionHeader.className = "section-header";
                    sectionHeader.textContent = currentSection;
                    buttonContainer.appendChild(sectionHeader);
                }

                buttonContainer.appendChild(button);
            });
        }

        function search() {
            var searchInput = document.getElementById("searchInput").value.toLowerCase();
            var buttons = document.querySelectorAll(".button");
            var noResultMessage = document.getElementById("noResultMessage");
            var hasResults = false;

            buttons.forEach(function(button) {
                var buttonText = button.textContent.toLowerCase();
                if (buttonText.includes(searchInput)) {
                    button.style.display = "inline-block";
                    hasResults = true;
                } else {
                    button.style.display = "none";
                }
            });
    
            if (!hasResults) {
                noResultMessage.style.display = "block";
            } else {
                noResultMessage.style.display = "none";
            }
        }
    
        // Sort buttons alphabetically initially
        sortButtonsAlphabetically();
    </script>
</body>
</html>
